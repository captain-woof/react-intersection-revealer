{"version":3,"sources":["../../src/index.js","styles/indexContainerStyle.js","styles/indexTextStyle.js","styles/indexBoxStyle.js","styles/globalStyle.js","styles/indexHeaderStyle.js","styles/mousePointerStyle.js","components/mousePointer.js","App.js","index.js"],"names":["isElementInView","targetElement","boundBox","window","getEleVisibleX","Math","getEleVisibleY","getHeightWidthAndVisible","height","width","heightVisible","widthVisible","useIntersectionRevealer","ref","useState","inView","setInView","visibleFractionX","setVisibleFractionX","visibleFractionY","setVisibleFractionY","setHeight","setwidth","setHeightVisible","setwidthVisible","useEffect","onScroll","useCallback","handleScroll","IndexContainerStyle","styled","div","IndexTextStyle","h1","IndexBoxStyle","GlobalStyle","createGlobalStyle","PackageNameText","ButtonContainer","Button","a","IndexHeaderStyle","MouseStyle","vanish","css","MousePointer","innerWidth","x","setX","innerHeight","y","setY","handleMouseMove","e","pageX","pageY","document","addEventListener","removeEventListener","style","top","left","App","boxRef","useRef","showStats","setShowStats","setVanish","onMouseEnter","onMouseLeave","href","target","round","ReactDOM","render","getElementById"],"mappings":"2QAGMA,EAAkB,SAACC,GACrB,MACI,SAEJ,IAAIC,EAAWD,EAAf,wBACA,OAASC,MAAeC,OAAhB,aAAwCD,OAAgBC,OAAxD,YAA+ED,UAAvF,GAGEE,EAAiB,SAACH,GACpB,MACI,SAEJ,IAAIC,EAAWD,EAAf,wBACA,OAAKD,EAAL,GAEYE,SAAkBC,OAAnB,YAA0CD,SAA1C,GAAmEA,QAAiBC,OAApF,YAA2GD,QAA/G,EACH,EAEOG,UACDF,kBAAoBD,EAArB,MAAsCA,EADpCG,MAEFH,QAAiBA,EAFtB,OAJA,GAWFI,EAAiB,SAACL,GACpB,MACI,SAEJ,IAAIC,EAAWD,EAAf,wBACA,OAAKD,EAAL,GAEYE,UAAmBC,OAApB,aAA4CD,UAA5C,GAAsEA,OAAgBC,OAAtF,aAA8GD,OAAlH,EACH,EAEOG,UACDF,mBAAqBD,EAAtB,KAAsCA,EADpCG,OAEFH,SAAkBA,EAFvB,QAJA,GAWFK,EAA2B,SAACN,GAC9B,IAAIC,EAAWD,EAAf,wBACA,MAAQ,CACJO,OAAQN,EADJ,OAEJO,MAAOP,EAFH,MAGJQ,cAAeJ,KAAgCJ,EAH3C,OAIJS,aAAcP,KAAgCF,EAASO,QAkBlDG,EAA0B,SAACC,GAGpC,MAA4BC,mBAASd,EAAgBa,EAArD,UAAOE,EAAP,KAAeC,EAAf,KAEA,EAAgDF,mBAASV,EAAeS,EAAxE,UAAOI,EAAP,KAAyBC,EAAzB,KAEA,EAAgDJ,mBAASR,EAAeO,EAAxE,UAAOM,EAAP,KAAyBC,EAAzB,KAEA,EAA4BN,qBAArBN,EAAP,KAAea,EAAf,KACA,EAA0BP,qBAAnBL,EAAP,KAAca,EAAd,KACA,EAA0CR,qBAAnCJ,EAAP,KAAsBa,EAAtB,KACA,EAAwCT,qBAAjCH,EAAP,KAAqBa,EAArB,KAEAC,qBAAU,WACNT,EAAUhB,EAAgBa,EAA1BG,UACAE,EAAoBd,EAAeS,EAAnCK,UACAE,EAAoBd,EAAeO,EAAnCO,UAEA,MAAqDb,EAAyBM,EAA9E,SAAML,EAAN,SAAcE,EAAd,gBAA6BD,EAA7B,QAAoCE,EAApC,eACAU,KACAC,KACAC,KACAC,OACD,CAACX,EAVJY,UAaA,IAAMC,EAAWC,uBAAY,YAxCZ,SAACd,EAAKG,EAAWE,EAAqBE,EAAqBC,EAAWC,EAAUC,EAAkBC,GACnHR,EAAUhB,EAAgBa,EAA1BG,UACAE,EAAoBd,EAAeS,EAAnCK,UACAE,EAAoBd,EAAeO,EAAnCO,UAEA,MAAqDb,EAAyBM,EAA9E,SAAML,EAAN,SAAcE,EAAd,gBAA6BD,EAA7B,QAAoCE,EAApC,eACAU,KACAC,KACAC,KACAC,KAgCII,CAAaf,EAAKG,EAAWE,EAAqBE,EAAqBC,EAAWC,EAAUC,EAA5FK,KACD,CAFH,IASA,OANAH,qBAAU,WAEN,OADAtB,oCACO,WAAQA,0CAFnBsB,IAMO,CACHV,OADG,EAEHE,iBAFG,EAGHE,iBAHG,EAIHX,OAJG,EAKHC,MALG,EAMHC,cANG,EAOHC,iB,cC9GKkB,EAAsBC,IAAOC,IAAV,iLCAnBC,EAAiBF,IAAOG,GAAV,mQCAdC,EAAgBJ,IAAOC,IAAV,uICAbI,EAAcC,YAAH,uVCAXC,EAAkBP,IAAOC,IAAV,8MAUfO,EAAkBR,IAAOC,IAAV,yNAWfQ,EAAST,IAAOU,EAAV,+WAiBNC,EAAmBX,IAAOC,IAAV,iPCtChBW,EAAaZ,IAAOC,IAAV,sXAWjB,qBAAGY,QAAwBC,YAAJ,wDCTd,SAASC,EAAT,GAAmC,IAAXF,EAAU,EAAVA,OAEnC,EAAkB7B,mBAASX,OAAO2C,WAAa,GAA/C,mBAAOC,EAAP,KAAUC,EAAV,KACA,EAAkBlC,mBAASX,OAAO8C,YAAc,GAAhD,mBAAOC,EAAP,KAAUC,EAAV,KAEMC,EAAkBzB,uBAAY,SAAC0B,GACjCL,EAAKK,EAAEC,OACPH,EAAKE,EAAEE,SACR,IAOH,OALA9B,qBAAU,WAEN,OADA+B,SAASC,iBAAiB,YAAaL,GAChC,WAAQI,SAASE,oBAAoB,YAAaN,MAC1D,CAACA,IAGA,kBAACV,EAAD,CAAYC,OAAQA,EAAQgB,MAAO,CAAEC,IAAKV,EAAGW,KAAMd,KCP5C,SAASe,IAEtB,IAAMC,EAASC,mBAGf,EAAkCpD,EAAwBmD,GAAlDhD,EAAR,EAAQA,OAAQL,EAAhB,EAAgBA,cAGhB,EAAkCI,oBAAS,GAA3C,mBAAOmD,EAAP,KAAkBC,EAAlB,KACMtC,EAAeD,uBAAY,WAC/BuC,GAAa,KACZ,IACHzC,qBAAU,WAER,OADAtB,OAAOsD,iBAAiB,SAAU7B,GAC3B,WAAQzB,OAAOuD,oBAAoB,SAAU9B,MACnD,CAACA,IAGJ,MAA4Bd,oBAAS,GAArC,mBAAO6B,EAAP,KAAewB,EAAf,KAEA,OACE,oCACE,kBAAChC,EAAD,MACA,kBAACU,EAAD,CAAcF,OAAQA,IACtB,kBAACF,EAAD,KACE,kBAACJ,EAAD,oCACA,kBAACC,EAAD,KACE,kBAACC,EAAD,CAAQ6B,aAAc,WAAQD,GAAU,IAASE,aAAc,WAAQF,GAAU,IAAUG,KAAK,8DAA8DC,OAAO,UAArK,UAGA,kBAAChC,EAAD,CAAQ6B,aAAc,WAAQD,GAAU,IAASE,aAAc,WAAQF,GAAU,IAAUG,KAAK,oFAAoFC,OAAO,UAA3L,YAMJ,kBAACvC,EAAD,KACGiC,EACG,oCAAE,gDAAkBlD,IACpB,uDAAyBV,KAAKmE,MAAM9D,GAApC,QACA,gFAIN,kBAACmB,EAAD,KACE,kBAACK,EAAD,CAAerB,IAAKkD,KAGtB,kBAAClC,EAAD,OCzDN4C,IAASC,OAAO,kBAACZ,EAAD,MAASN,SAASmB,eAAe,W","file":"static/js/main.e197800d.chunk.js","sourcesContent":["import { useCallback, useEffect, useState } from 'react'\n\n//// Functions to get visibility stats\nconst isElementInView = (targetElement) => {\n    if (!targetElement) { // If element is null\n        return false\n    }\n    let boundBox = targetElement.getBoundingClientRect()\n    return ((boundBox.top < window.innerHeight) && (boundBox.left < window.innerWidth) && (boundBox.bottom >= 0))\n}\n\nconst getEleVisibleX = (targetElement) => {\n    if (!targetElement) { // If element is null\n        return 0\n    }\n    let boundBox = targetElement.getBoundingClientRect()\n    if (!isElementInView(targetElement)) {\n        return 0\n    } else if ((boundBox.right <= window.innerWidth) && (boundBox.right >= 0) && (boundBox.left <= window.innerWidth) && (boundBox.left >= 0)) {\n        return 1\n    } else {\n        return Math.min(\n            ((window.innerWidth - boundBox.left) / boundBox.width),\n            (boundBox.right / boundBox.width)\n        )\n    }\n}\n\nconst getEleVisibleY = (targetElement) => {\n    if (!targetElement) { // If element is null\n        return 0\n    }\n    let boundBox = targetElement.getBoundingClientRect()\n    if (!isElementInView(targetElement)) {\n        return 0\n    } else if ((boundBox.bottom <= window.innerHeight) && (boundBox.bottom >= 0) && (boundBox.top <= window.innerHeight) && (boundBox.top >= 0)) {\n        return 1\n    } else {\n        return Math.min(\n            ((window.innerHeight - boundBox.top) / boundBox.height),\n            (boundBox.bottom / boundBox.height)\n        )\n    }\n}\n\nconst getHeightWidthAndVisible = (targetElement) => {\n    let boundBox = targetElement.getBoundingClientRect()\n    return ({\n        height: boundBox.height,\n        width: boundBox.width,\n        heightVisible: getEleVisibleY(targetElement) * boundBox.height,\n        widthVisible: getEleVisibleX(targetElement) * boundBox.width,\n    })\n}\n\n//// Hook on to window scroll event\nconst handleScroll = (ref, setInView, setVisibleFractionX, setVisibleFractionY, setHeight, setwidth, setHeightVisible, setwidthVisible) => {\n    setInView(isElementInView(ref.current))\n    setVisibleFractionX(getEleVisibleX(ref.current))\n    setVisibleFractionY(getEleVisibleY(ref.current))\n\n    let { height, heightVisible, width, widthVisible } = getHeightWidthAndVisible(ref.current)\n    setHeight(height)\n    setwidth(width)\n    setHeightVisible(heightVisible)\n    setwidthVisible(widthVisible)\n}\n\n// Below function takes the ref to the element/component that needs to be tracked\nexport const useIntersectionRevealer = (ref) => {\n    //// States for tracking data\n    // stores element visibility (boolean)\n    const [inView, setInView] = useState(isElementInView(ref.current))\n    // Stores y-axis visibility (fraction)\n    const [visibleFractionX, setVisibleFractionX] = useState(getEleVisibleX(ref.current))\n    // Stores y-axis visibility (fraction)\n    const [visibleFractionY, setVisibleFractionY] = useState(getEleVisibleY(ref.current))\n    // Stores height and width, and their absolute visibility\n    const [height, setHeight] = useState()\n    const [width, setwidth] = useState()\n    const [heightVisible, setHeightVisible] = useState()\n    const [widthVisible, setwidthVisible] = useState()\n\n    useEffect(() => {\n        setInView(isElementInView(ref.current))\n        setVisibleFractionX(getEleVisibleX(ref.current))\n        setVisibleFractionY(getEleVisibleY(ref.current))\n\n        let { height, heightVisible, width, widthVisible } = getHeightWidthAndVisible(ref.current)\n        setHeight(height)\n        setwidth(width)\n        setHeightVisible(heightVisible)\n        setwidthVisible(widthVisible)\n    }, [ref.current])\n\n    //// Hook on to window scroll event\n    const onScroll = useCallback(() => {\n        handleScroll(ref, setInView, setVisibleFractionX, setVisibleFractionY, setHeight, setwidth, setHeightVisible, setwidthVisible)\n    }, [ref])\n    useEffect(() => {\n        window.addEventListener('scroll', onScroll)\n        return () => { window.removeEventListener('scroll', onScroll) }\n    }, [])\n\n    //// Return stats\n    return {\n        inView,\n        visibleFractionX,\n        visibleFractionY,\n        height,\n        width,\n        heightVisible,\n        widthVisible\n    }\n}","import styled from 'styled-components'\n\nexport const IndexContainerStyle = styled.div`\n    background-color: yellow;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 140vh;\n    width: 100%;\n`","import styled from 'styled-components'\n\nexport const IndexTextStyle = styled.h1`\n    font-size: 2.5rem;\n    color: black;\n    font-weight: 400;\n    background-color: transparent;\n    position: fixed;\n    top: calc(50vh);\n    left: 32px;\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n`","import styled from 'styled-components'\n\nexport const IndexBoxStyle = styled.div`\n    height: 280px;\n    width: 280px;\n    background-color: black;\n    transform: translate(0px, 60vh);\n`","import { createGlobalStyle } from 'styled-components'\n\nexport const GlobalStyle = createGlobalStyle`\n    body {\n        margin: 0;\n        padding: 0;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-rendering: optimizeLegibility;\n        font-size: 16px;\n        font-family: 'Lato', sans-serif;\n        user-select: none;\n        cursor: none;\n    }\n`","import styled from 'styled-components'\n\nexport const PackageNameText = styled.div`\n    color: black;\n    font-size: 1.2rem;\n    font-weight: 400;\n    font-style: italic;\n    align-self: center;\n    border-bottom: 2px solid black;\n    margin-right: 2rem;\n`\n\nexport const ButtonContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    color: black;\n    font-size: 1rem;    \n    flex-grow: 1;\n    text-align: end;\n    justify-content: flex-end;\n    margin-right: 3rem;\n`\n\nexport const Button = styled.a`    \n    border-radius: 4px;\n    padding: 4px 8px;\n    border: 2px solid transparent;\n    height: fit-content;\n    width: fit-content;\n    margin-right: 0.5rem;\n    transition: all 0.3s linear;\n    text-decoration: none;\n    color: black;\n    cursor: none;\n    opacity: 1;\n    &:hover {\n        border: 2px solid black;\n    }\n`\n\nexport const IndexHeaderStyle = styled.div`\n    background-color: transparent;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: max-content;\n    display: flex;\n    flex-direction: row;\n    z-index: 99;\n    margin: 12px;\n`","import styled, { css } from 'styled-components'\n\nexport const MouseStyle = styled.div`\n    background-color: transparent;\n    height: 32px;\n    width: 32px;\n    border-radius: 50%;\n    border: 2px solid black;\n    transform: translate(-50%, -50%);\n    position: absolute;\n    pointer-events: none;\n    opacity: 1;\n    transition: opacity 0.3s linear;\n    ${({ vanish }) => (vanish && css`\n        opacity: 0;\n    `)}\n    @media (max-width: 600px){\n        display: none;\n    }\n`","import { MouseStyle } from \"../styles/mousePointerStyle\"\nimport React, { useCallback } from \"react\"\nimport { useEffect, useState } from \"react\"\n\nexport default function MousePointer({ vanish }) {\n\n    const [x, setX] = useState(window.innerWidth / 2)\n    const [y, setY] = useState(window.innerHeight / 2)\n\n    const handleMouseMove = useCallback((e) => {\n        setX(e.pageX)\n        setY(e.pageY)\n    }, [])\n\n    useEffect(() => {\n        document.addEventListener('mousemove', handleMouseMove)\n        return () => { document.removeEventListener('mousemove', handleMouseMove) }\n    }, [handleMouseMove])\n\n    return (\n        <MouseStyle vanish={vanish} style={{ top: y, left: x }} />\n    )\n}","// Package imports\nimport React, { useCallback, useRef } from 'react'\nimport { useIntersectionRevealer } from 'react-intersection-revealer'\n\n// Styles\nimport { IndexContainerStyle } from './styles/indexContainerStyle'\nimport { IndexTextStyle } from './styles/indexTextStyle'\nimport { IndexBoxStyle } from './styles/indexBoxStyle'\nimport { GlobalStyle } from './styles/globalStyle'\nimport { Button, IndexHeaderStyle, PackageNameText, ButtonContainer } from './styles/indexHeaderStyle'\nimport { useEffect, useState } from 'react'\nimport MousePointer from './components/mousePointer'\n\nexport default function App() {\n  // Reference for the black box\n  const boxRef = useRef()\n\n  // Passing ref to hook and getting states\n  const { inView, heightVisible } = useIntersectionRevealer(boxRef)\n\n  // For demo\n  const [showStats, setShowStats] = useState(false)\n  const handleScroll = useCallback(() => {\n    setShowStats(true)\n  }, [])\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll)\n    return () => { window.removeEventListener('scroll', handleScroll) }\n  }, [handleScroll])\n\n  // For mouse pointer\n  const [vanish, setVanish] = useState(false)\n\n  return (\n    <>\n      <GlobalStyle />\n      <MousePointer vanish={vanish} />\n      <IndexHeaderStyle>\n        <PackageNameText>react-intersection-revealer</PackageNameText>\n        <ButtonContainer>\n          <Button onMouseEnter={() => { setVanish(true) }} onMouseLeave={() => { setVanish(false) }} href=\"https://github.com/captain-woof/react-intersection-revealer\" target=\"_blank\">\n            Github\n          </Button>\n          <Button onMouseEnter={() => { setVanish(true) }} onMouseLeave={() => { setVanish(false) }} href=\"https://github.com/captain-woof/react-intersection-revealer/blob/master/README.md\" target=\"_blank\">\n            README\n          </Button>\n        </ButtonContainer>\n      </IndexHeaderStyle>\n\n      <IndexTextStyle>\n        {showStats\n          ? <><div>{`Visible: ${inView}`}</div>\n            <div>{`Visible height: ${Math.round(heightVisible)}px`}</div></>\n          : <div>Scroll to see the black box's visibility stats</div>\n        }\n      </IndexTextStyle>\n\n      <IndexContainerStyle>\n        <IndexBoxStyle ref={boxRef} />\n      </IndexContainerStyle>\n\n      <IndexContainerStyle>\n        \n      </IndexContainerStyle>\n    </>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}